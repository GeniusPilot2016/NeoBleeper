# Руководство по устранению неполадок NeoBleeper

В этом руководстве представлены решения распространённых проблем, возникающих при использовании NeoBleeper, особенно связанных с поведением системного динамика, выводом звука, совместимостью оборудования и постоянными звуковыми сигналами.

---

## 1. Застревание звука в системном динамике после сбоя или принудительного закрытия

**Проблема:**
Если NeoBleeper аварийно завершает работу или принудительно закрывается во время воспроизведения звука через системный динамик (ПК), звук может «застревать», что приводит к непрерывному звуковому сигналу или жужжанию.

**Почему это происходит:**
Системный динамик управляется на низком аппаратном/программном уровне. Если приложение не отключает или не сбрасывает динамик при выходе, звуковой сигнал может сохраняться.

**Решения:**
- **Воспользуйтесь утилитой NeoBleeper Остановка бипера:**
  NeoBleeper поставляется с утилитой «NeoBleeper Остановка бипера» в папке программы.
  
  ![image4](https://github.com/user-attachments/assets/4a0f13d2-a124-48aa-aac5-4d762371a10a)
  
  - Запустите этот инструмент и нажмите кнопку **Остановить звуковой сигнал**, чтобы остановить постоянный звуковой сигнал системного динамика.
  - Используйте эту утилиту только в том случае, если звуковой сигнал продолжает воспроизводиться после сбоя или принудительного выхода.

#### Сообщения Остановка бипера и их значение

  При использовании утилиты Остановка бипера вы можете увидеть следующие сообщения:

  ![image1](https://github.com/user-attachments/assets/099961eb-2b69-4590-8e81-1d2d353e368d)
    
  **Системный динамик не издаёт звуковой сигнал или издаёт звуковой сигнал другим способом. Действие не выполнено.**  
  Это сообщение появляется, когда утилита проверяет системный динамик и определяет, что он либо не издаёт звуковой сигнал, либо издаёт его неконтролируемым образом. В этом случае Остановка бипера не будет предпринимать никаких дальнейших действий.
  - *Совет:* Если вы всё ещё слышите постоянный звуковой сигнал, попробуйте перезагрузить компьютер.
    
  ![image2](https://github.com/user-attachments/assets/931dd391-8db9-441c-a6c4-c4560619272f)
    
  **Звуковой сигнал успешно остановлен!**  
  Это сообщение подтверждает, что утилита Остановка бипера обнаружила застрявший звуковой сигнал и успешно его остановила. Дальнейшие действия не требуются.
  
  ![image3](https://github.com/user-attachments/assets/6fca888b-73d4-4a47-b086-e159ef660e0a)
  
  **Выход системного динамика отсутствует или присутствует нестандартный выход системного динамика. Отключение звукового сигнала может привести к нестабильной работе или нежелательному поведению. Хотите продолжить?**  
  Это сообщение появляется при запуске утилиты Остановка бипера и обнаружении в вашей системе либо отсутствия стандартного системного динамика (ПК), либо нестандартного выхода системного динамика. В этом случае утилита предупреждает, что попытка использования Остановка бипера может работать некорректно и потенциально привести к непредвиденному поведению или нестабильной работе.
  Если вы продолжите, утилита попытается отключить звуковой сигнал, но это может быть неэффективно или иметь побочные эффекты, если ваше оборудование не поддерживается или нестандартно.
  Если вы решите не продолжать, утилита завершит работу без внесения каких-либо изменений.
  - *Совет:* Если вы получили это сообщение, это означает, что на вашем компьютере нет совместимого системного динамика, или его выход невозможно контролировать. Любой звуковой сигнал или жужжание, которые вы слышите, вероятно, исходят от другого аудиоустройства (например, основных динамиков или наушников). Используйте стандартные настройки звукового устройства для устранения проблем со звуком и закройте все приложения, которые могут воспроизводить нежелательный звук. Если проблема не устранена, попробуйте перезагрузить компьютер или проверить настройки звука вашего устройства.
    
- **Перезагрузите компьютер:**
  Если Остановка бипера не решит проблему, перезапуск системы сбросит аппаратные настройки динамика.

- **Профилактика:**
  Всегда закрывайте NeoBleeper обычным способом. Избегайте принудительного закрытия через диспетчер задач или аналогичные инструменты во время воспроизведения звука.

---

## 2. Обнаружение и совместимость системных динамиков

NeoBleeper включает в себя логику обнаружения для проверки наличия в вашей системе стандартного выхода для подключения ПК, а также поддержку «скрытых» выходов для подключения системных динамиков (например, не использующих идентификатор PNP0800). Если ваше оборудование не поддерживает стандартный или скрытый системный динамик, или выход нестандартный и не может быть использован, вы можете увидеть предупреждающие сообщения или вам придётся полагаться на стандартное звуковое устройство для подачи звуковых сигналов. Однако, начиная с последних версий, NeoBleeper больше не заставляет вас использовать исключительно звуковое устройство при отсутствии стандартного динамика — теперь он позволяет использовать скрытые/не PNP0800 выходы для подключения системных динамиков, если они есть.

### Пример предупреждения (Изображение 1):

![image1](https://github.com/user-attachments/assets/b8f5aa09-bda5-4894-8da8-f4a36ea4f282)

> **Объяснение:**
> На материнской плате вашего компьютера либо нет стандартного выхода для системных динамиков, либо выход нестандартный. NeoBleeper попытается обнаружить и предложить использовать «скрытые» выходы для системных динамиков, не идентифицированные как PNP0800. Если такой выход доступен, вы можете использовать системный динамик, даже если появится это предупреждение. В противном случае NeoBleeper будет использовать ваше обычное звуковое устройство (например, динамики или наушники).

### Диалоги настроек (изображения 2 и 3):

![image2](https://github.com/user-attachments/assets/c739dcb0-f69a-4541-b936-fcfea3b3ad55)

![image3](https://github.com/user-attachments/assets/fcb12108-bb57-46dd-88d7-91ed3863cce2)

- **Кнопка «Проверить доступность системного динамика»:**

Эта опция включается, если NeoBleeper обнаруживает любой доступный выход системного динамика, включая скрытые или не-PNP0800 выходы.

- **Параметр «Использовать звуковое устройство для создания звукового сигнала»:**

Теперь вы можете отключить эту функцию при обнаружении скрытого или нестандартного выхода системного динамика.

#### Что означает «нестандартный выход системного динамика»?
Некоторые современные компьютеры, ноутбуки или виртуальные машины не оснащены полноценным динамиком ПК, или маршрутизация сигнала нестандартна. NeoBleeper теперь пытается обнаружить и использовать такие скрытые выходы системного динамика (не идентифицированные как устройства PNP0800), но может включить функцию системного динамика только при наличии к ней доступа на аппаратном уровне. Если подходящий выход не найден, вам потребуется использовать обычное звуковое устройство.

---

## 3. Как проверить наличие системного динамика

- **Настольные компьютеры:** У большинства старых настольных компьютеров на материнской плате есть разъём для подключения системного динамика. В новых системах эта функция может отсутствовать или вывод звука может быть скрытым/не PNP0800, который теперь может использовать NeoBleeper.
- **Ноутбуки:** У большинства ноутбуков нет отдельного системного динамика; весь звук направляется через основную аудиосистему.
- **Виртуальные машины:** Эмуляция системного динамика часто отсутствует или работает ненадёжно; выходы, не соответствующие PNP0800, могут быть недоступны.
- **Как проверить:** Если вы видите предупреждения выше, но можете включить и проверить системный динамик в NeoBleeper, вероятно, у вашего компьютера есть скрытый или нестандартный выход.
  
---

## 2.1 Тест выхода системного динамика (обнаружение ультразвуковой частоты)
  NeoBleeper теперь включает новый расширенный аппаратный тест для обнаружения выхода системного динамика (также известного как динамик ПК), даже если устройство не распознаётся Windows (в некоторых идентификаторах, например, PNP0C02 вместо PNP0800). Этот тест использует ультразвуковые частоты (обычно 30–38 кГц, которые не слышны на слух) и анализирует электрическую обратную связь на порту системного динамика.
  
  - **Как это работает:**
  При запуске NeoBleeper выполняет второй этап после обычной проверки идентификатора устройства. Он отправляет ультразвуковые сигналы на порт системного динамика и отслеживает аппаратную обратную связь, чтобы обнаружить наличие работающего выхода динамика, даже если он скрыт или нестандартен.
  
  - **Что вы можете заметить:**
  В некоторых системах, особенно с пьезоэлектрическими излучателями, на этом этапе могут быть слышны слабые щелчки. Это нормально и указывает на то, что аппаратный тест запущен.
  
  ![изображение4](https://github.com/user-attachments/assets/35136b88-1315-4ad3-98f3-e265173ec5d2) 
  
  *Проверка настоящего выходного сигнала системного динамика (динамика ПК) на шаге 2/2... (может быть слышны ученые)*
  
  - **Зачем этот тест?** 
    Во многих современных системах отсутствует системный динамик PNP0800, но при этом имеется пригодный для использования (скрытый) выход на динамик. NeoBleeper использует этот продвинутый метод для включения функций звукового сигнала на большем количестве оборудования.

## 4. Я не слышу ни звука!

- **Проверьте настройки NeoBleeper:** 
  Если динамик вашей системы недоступен, убедитесь, что ваше звуковое устройство (динамики/наушники) правильно выбрано и работает.
- **Проверьте микшер громкости Windows:**
  Убедитесь, что звук NeoBleeper не отключен в системном микшере громкости.
- **Попробуйте кнопку «Проверить системный динамик»:**
  Используйте её для проверки динамика компьютера.
- **Прочитайте предупреждения:**
  NeoBleeper предоставит подробные инструкции, если не сможет получить доступ к системному динамику.

---

## 5. Часто задаваемые вопросы

### В: Можно ли использовать системный динамик, если на моём оборудовании нет устройства PNP0800?
**A:** Да! NeoBleeper теперь пытается обнаружить и использовать скрытые или не-PNP0800 выходы системных динамиков, где это возможно. В случае успеха вы сможете использовать системный динамик, даже если Windows не обнаруживает стандартное устройство.

### В: Почему настройка «Использовать звуковое устройство для создания звукового сигнала» иногда становится постоянной (в старых версиях)?
**A:** Если стандартный выход системного динамика не обнаружен (в старых версиях), NeoBleeper принудительно применяет эту настройку, чтобы обеспечить вывод звука.

### В: Есть ли решение проблемы отсутствия системного динамика?
**A:** Если стандартный выход системного динамика не обнаружен (в старых версиях), необходимо использовать обычное звуковое устройство (динамики/наушники).

### В: Что делать, если утилита Остановка бипера не останавливает застрявший звуковой сигнал?
**A:** Перезагрузите компьютер, чтобы сбросить настройки динамика, если утилита Остановка бипера не работает.

### В: Почему я слышу щелчки во время запуска?
**A:** Во время расширенного теста выходных сигналов динамиков системы (шаг 2) NeoBleeper посылает ультразвуковые сигналы на оборудование для обнаружения скрытых или нестандартных выходов динамиков. В некоторых системах (особенно с пьезоизлучателями) это может вызывать слабые щелчки. Это нормально и не является признаком неисправности; это просто означает, что выполняется тест оборудования.

### В: Может ли ультразвуковой тест оборудования (шаг 2) обнаружить неисправные (разомкнутая цепь) или отсоединенные динамики системы?
**A:** В настоящее время это не проверено и неизвестно. Хотя тест проверяет наличие электрической обратной связи и активность портов, он может ненадёжно различать физически присутствующий, но неисправный (разомкнутая цепь) или отсоединенный динамик и отсутствующий динамик. Если динамик полностью сломан или отключён (разомкнутая цепь), тест может вернуть результат «ложь», что означает отсутствие функционального выхода. Однако это поведение не гарантируется и может зависеть от конкретного оборудования и типа неисправности. Если вы подозреваете, что ваш системный динамик не работает, рекомендуется провести физический осмотр или использовать мультиметр.

**Возможные будущие обновления:**
Если в ходе будущих испытаний или разработок NeoBleeper сможет надёжно обнаруживать сломанные или отключённые системные динамики с помощью ультразвукового аппаратного теста, этот раздел часто задаваемых вопросов и логика обнаружения будут обновлены с учётом этих улучшений. Следите за обновлениями и новыми выпусками для получения подробной информации.

---

## 6. Получение помощи

- **Предоставьте сведения о компьютере и среде:** Сообщая о проблемах с обнаружением оборудования или звуком, укажите сведения о вашем компьютере (настольный компьютер/ноутбук, производитель/модель, операционная система) и любом связанном оборудовании.
- **Приложите снимки экрана или диалоговые окна с ошибками:** Снимки экрана с ошибками или предупреждениями очень полезны. Укажите точное время возникновения проблемы.
- **Приложите файл журнала:** Начиная с новых версий, NeoBleeper создаёт подробный файл журнала DebugLog.txt в папке программы. Приложите этот файл при обращении за помощью, так как он содержит полезную диагностическую информацию.
- **Опишите шаги для воспроизведения проблемы:** Чётко опишите, что вы делали, когда возникла проблема.
- **Откройте запрос на GitHub:** Для получения дополнительной помощи откройте запрос на GitHub и укажите все вышеперечисленные сведения для получения наилучшей поддержки.

_Это руководство обновляется по мере обнаружения новых проблем и решений. Для получения дополнительной помощи, пожалуйста, создайте задачу на GitHub с подробной информацией о вашей настройке и возникшей проблеме._
